Проект был сделан для автоматизации уведомлений о необходимости пополнения баланса в школьном родительском комитете на экскурсии, обеды и другие общие расходы.
**Исходные данные.**
Родительский комитет ведет в GoogleDocs таблицу, где есть колонки ФИО ученика (Фамилия Имя), ОСТАТОК, ОБЕДЫ, ЭКСКУРСИИ и т.д. 
Родительский комитет вносит в таблицу траты, которые приводят к изменению графы ОСТАТОК, а родители должны периодически проверять таблицу и вносить деньги 
по мере расходования, чтоб ыне уходить в минус. Хотелось упростить жизнь родителям и родительскому комитету.

Проект состоит из трех модулей, работающих с общей базой данных через SQLAlchemy. Все модули запускаются на домашнем NAS Synology (на Linux), используется MariaDB. 

**База данных** состоит из двух таблиц: balances и students.
Таблица **balances** содержит периодически загружаемые из GoogleDocs данные по остатку и статьям расходов, а также ФИО ученика (по которому делается отбор). 
В итоге в этой таблице формируется история изменения балансов с датой загрузки. Последний баланс помечается d поле last=1 для каждого ученика.
Таблица **students** содержит telegram_id привязанный к ФИО ученика, а также настройки уведомлений. Для одного ученика может быть несколько записей, на случай если несколько родственников захочет мониторить баланс. Настройки в этом случае могут различаться для каждого родственника.

Модуль **load_data** запускается по cron и несколько раз в сутки загружает данные из GoogleDocs в базу данных. Данные грузятся только если есть изменения